{
  "openapi":"3.0.3" ,
  "info": {
    "title" : "Library Management System Restful API",
    "description" : "Open API for library management system",
    "version" : "1",
    "contact" : {
      "name" : "Rizki Susilo Ramadhan",
      "email" : "rizkysr90@gmail.com"
    }
  },
  "servers" : [{
    "description" : "Library restful API",
    "url" : "http://localhost:8000"
  }],
  "paths" : {
    "/user/register" : {
      "post" : {
        "summary" : "Create new user",
        "description" : "Create new user with name,email and password required",
        "requestBody" : {
          "content" : {
            "application/JSON:" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "name" : {
                    "type" : "string"
                  },
                  "email" : {
                    "type" : "string"
                  },
                  "password" : {
                    "type" : "string"
                  },
                  "address" : {
                    "type" : "string"
                  }
                },
                "example": {
                  "name" : "Rizki Susilo Ramadhan",
                  "email" : "rizkysusilo@gmail.com",
                  "password": "rahasia123",
                  "address":"Bekasi"
                }
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "JSON" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "type": "integer"
                    },
                    "message": {
                      "type" : "string"
                    },
                    "data" : {
                      "type" : "object"
                    }
                  },
                  "example": {
                    "code": 200,
                    "message":"OK",
                    "data": {}
                  }
                }
              }
            }
          }
        }
        
      }
    },
    "/user/login" : {
      "get" : {
        "summary" : "Login account",
        "description" : "Login account by using email and password",
        "responses" : {
          "200" : {
            "description" : "Success Login",
            "content" : {
              "JSON" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code":{
                      "type" : "integer"
                    },
                    "message":{
                      "type" : "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  },
                  "example":{
                    "code":200,
                    "message":"Hi,Welcome back",
                    "data": {
                      "id": 1,
                      "name": "Rizki Susilo Ramadhan",
                      "email":"rizkysusilo@gmail.com",
                      "address":"Bekasi",
                      "token" : "JWTtoken"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/register" : {
      "post" : {
        "summary" : "Create new admin",
        "description" : "Create new admin with name,email and password required",
        "requestBody" : {
          "content" : {
            "application/JSON:" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "name" : {
                    "type" : "string"
                  },
                  "email" : {
                    "type" : "string"
                  },
                  "password" : {
                    "type" : "string"
                  },
                  "address" : {
                    "type" : "string"
                  }
                },
                "example": {
                  "name" : "Syaiful Bahri",
                  "email" : "syaiful@gmail.com",
                  "password": "rahasia123",
                  "address":"Bekasi"
                }
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "JSON" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "type": "integer"
                    },
                    "message": {
                      "type" : "string"
                    },
                    "data" : {
                      "type" : "object"
                    }
                  },
                  "example": {
                    "code": 200,
                    "message":"OK",
                    "data": {}
                  }
                }
              }
            }
          }
        }
        
      }
    },
    "/admin/login" : {
      "get" : {
        "summary" : "Admin login account",
        "description" : "Admin Login account by using email and password",
        "responses" : {
          "200" : {
            "description" : "Success Login",
            "content" : {
              "JSON" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code":{
                      "type" : "integer"
                    },
                    "message":{
                      "type" : "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  },
                  "example":{
                    "code":200,
                    "message":"Berhasil login",
                    "data": {
                      "id": 1,
                      "name": "Syaiful Bahri",
                      "email":"syaiful@gmail.com",
                      "address":"Bekasi",
                      "token" : "JWTtoken"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
     "/reservation" : {
      "post" : {
        "summary" : "Make a new reservation for a book",
        "description" : "Make a new reservation for a book ",
        "requestBody" : {
          "content" : {
            "application/JSON:" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "user_id" : {
                    "type" : "integer"
                  },
                  "book_id" : {
                    "type" : "integer"
                  }
                },
                "example": {
                  "user_id" : 1,
                  "book_id":7
                }
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "JSON" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "type": "integer"
                    },
                    "message": {
                      "type" : "string"
                    },
                    "data" : {
                      "type" : "object"
                    }
                  },
                  "example": {
                    "code": 200,
                    "message":"Succes Retrieve Data",
                    "data": {
                      "id" : 1,
                      "status": {
                        "id": 1,
                        "message":"Menunggu konfirmasi admin"
                      },
                      "user":{
                        "id": 1,
                        "name" : "Rizki Susilo Ramadhan",
                        "email" :"rizkysusilo@gmail.com"
                      },
                      "book": {
                        "id":7,
                        "title": "Atomic Habbits",
                        "authors":"James Clear",
                        "categories": "self improvement",
                        "publishedDate":"2019-09-16",
                        "cover":"http://books.google.com/books/publisher/content?id=1bm0DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&imgtk=AFLRE70ahpSqohOZAmEyq5WMrUiapWX6usc9q_XvClLjjyHUbRaQU-QSUabM1VGn5KFlNnzGYV-3mh1nmrOPc1Zo_bbU_f4pFI7gc08oWGojpVmykOqCjQfAHBu-o1Ws2Io20Pm7-ZTK&source=gbs_api",
                        "copiesOwned":10
                      }
                    }
                  }
                }
              }
            }
          }
        }
        
      }
    },
     "/admin/reservation" : {
      "put" : {
        "summary" : "Accept a reservation book that was made by user",
        "description" : "Accept a reservation book that was made by user by id reservation",
        "requestBody" : {
          "content" : {
            "application/JSON:" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "id" : {
                    "type" : "integer"
                  },
                  "status" : {
                    "type" : "integer"
                  },
                  "loan_date": {
                    "type" : "string"
                  }
                },
                "example": {
                  "id" : 1,
                  "status":2,
                  "loan_date":"2021-10-08"
                }
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "JSON" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "type": "integer"
                    },
                    "message": {
                      "type" : "string"
                    },
                    "data" : {
                      "type" : "object"
                    }
                  },
                  "example": {
                    "code": 200,
                    "message":"Pesanan dikonfirmasi",
                    "data": {
                    }
                  }
                }
              }
            }
          }
        }
        
      }
    },
    "/reservation/" : {
      "get" : {
        "summary" : "get user reservation info by id reservation",
        "description" : "get reservation info by id reservation",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "JSON" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "type": "integer"
                    },
                    "message": {
                      "type" : "string"
                    },
                    "data" : {
                      "type" : "object"
                    }
                  },
                  "example": {
                    "code": 200,
                    "message":"Succes Retrieve Data",
                    "data": {
                      "id" : 1,
                      "status": {
                        "id": 2,
                        "message":"Pesanan terkonfirmasi"
                      },
                      "user":{
                        "id": 1,
                        "name" : "Rizki Susilo Ramadhan",
                        "email" :"rizkysusilo@gmail.com"
                      },
                      "book": {
                        "id":7,
                        "title": "Atomic Habbits",
                        "authors":"James Clear",
                        "categories": "self improvement",
                        "publishedDate":"2019-09-16",
                        "cover":"http://books.google.com/books/publisher/content?id=1bm0DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&imgtk=AFLRE70ahpSqohOZAmEyq5WMrUiapWX6usc9q_XvClLjjyHUbRaQU-QSUabM1VGn5KFlNnzGYV-3mh1nmrOPc1Zo_bbU_f4pFI7gc08oWGojpVmykOqCjQfAHBu-o1Ws2Io20Pm7-ZTK&source=gbs_api",
                        "copiesOwned":10
                      }
                    }
                  }
                }
              }
            }
          }
        }
        
      }
    },
     "/search" : {
      "get" : {
        "summary" : "Search book by title",
        "description" : "User can search book by title",
        "parameters":[
          {
           "name": "title",
            "in": "query",
            "required": false,
            "description": "book title you want to find",
            "schema": {
              "type": "string",
              "nullable": true,
              "default": false
            },
            "examples": {
              "title": {
                "description": "book title",
                "value": "Atomic Habbits"
              }
            }
          }
            
        ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "JSON" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "type": "integer"
                    },
                    "message": {
                      "type" : "string"
                    },
                    "data" : {
                      "type" : "object"
                    }
                  },
                  "example": {
                    "code": 200,
                    "message":"OK",
                    "data": {
                      "id":7,
                        "title": "Atomic Habbits",
                        "authors":"James Clear",
                        "categories": "self improvement",
                        "publishedDate":"2019-09-16",
                        "cover":"http://books.google.com/books/publisher/content?id=1bm0DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&imgtk=AFLRE70ahpSqohOZAmEyq5WMrUiapWX6usc9q_XvClLjjyHUbRaQU-QSUabM1VGn5KFlNnzGYV-3mh1nmrOPc1Zo_bbU_f4pFI7gc08oWGojpVmykOqCjQfAHBu-o1Ws2Io20Pm7-ZTK&source=gbs_api",
                        "copiesOwned":10
                    }
                  }
                }
              }
            }
          }
        }
        
      }
    }
  }
}